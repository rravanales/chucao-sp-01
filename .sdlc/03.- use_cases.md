
### **1. Introducción**

*   **1.1. Propósito:**
    El propósito fundamental de este documento es **detallar los casos de uso esenciales** para la implementación inicial de DeltaOne. Servirá como una guía para los equipos de ingeniería, arquitectura de software y diseño de UI/UX, brindando una **descripción clara de las interacciones esperadas** entre los usuarios y el sistema para la configuración y gestión centralizada de Scorecards y KPIs. El objetivo es asegurar que la solución final **satisfaga las necesidades de negocio** de manera eficiente y estandarizada.

*   **1.2. Alcance:**
    Este documento se centra en la **implementación inicial y esencial de las funcionalidades clave de DeltaOne** para la gestión del desempeño estratégico. El alcance incluye:
    *   **Configuración y gestión de Scorecards y KPIs:** Se abordará la estructura de Scorecards, la definición y configuración de KPIs con varios tipos de puntuación, actualizaciones manuales y cálculos automáticos, asignación de propietarios y gestión de ponderaciones, y la auditoría de cálculos.
    *   **Implementación de importaciones de datos solo para KPIs:** Esto cubre la configuración de importaciones de valores de KPI desde hojas de cálculo y bases de datos, incluyendo la configuración de conexiones, transformación de datos y programación de importaciones recurrentes.
    *   **Configuración de Alertas para eventos específicos de KPI y notas:** Se implementarán alertas automáticas para KPIs en estado "Rojo", recordatorios de actualización, y alertas relacionadas con notas, incluyendo la capacidad de requerir notas.
    *   **Administración de usuarios, grupos y permisos con personalización de terminología:** Esto involucra la configuración de usuarios individuales y masivos, la gestión de grupos de usuarios con permisos basados en la organización, y la personalización de la terminología de la aplicación y la activación/desactivación de "Strategy Maps".
    *   **Organizaciones:** Se incluirá la configuración de la jerarquía de organizaciones, la implementación de KPIs de rollup y la configuración de organizaciones basadas en plantillas a partir de campos de datasets, así como la integración de permisos organizacionales a través de grupos de árboles de rollup.

    **Exclusiones del Alcance para esta fase inicial** (alto nivel):
    *   Importaciones de datos para Iniciativas y Servicios Web (Zapier, REST API).
    *   Configuración y uso detallado de Dashboards, Charts, Reports, Datasets (más allá de lo requerido para soportar KPIs) y Forms.
    *   Configuración avanzada de seguridad de red o VPN, siendo responsabilidad del cliente auto-hospedado.
    *   Integración personalizada con otros sistemas de la empresa, más allá de las importaciones de KPIs de bases de datos/hojas de cálculo.
    *   Capacitación detallada de usuarios finales en todas las funcionalidades avanzadas de la plataforma (solo se centrará en el "back-end" y funcionalidades básicas).

*   **1.3. Definiciones y Glosario:**
    *   **KPI (Key Performance Indicator / Indicador Clave de Rendimiento):** Elementos en la base del árbol del Scorecard, cada uno con una meta y un valor real que se compara para obtener una puntuación y color.
    *   **Scorecard:** La sección principal de DeltaOne donde se almacenan las métricas de rendimiento y se gestiona la estrategia general de la organización.
    *   **DeltaOne:** Software de gestión del rendimiento diseñado para visualización de datos, balanced scorecards, alineación de equipos y gestión de KPI e iniciativas.
    *   **Rollup:** Proceso mediante el cual las puntuaciones de los KPIs se "acumulan" hacia arriba en el árbol del Scorecard, promediando o sumando las puntuaciones de elementos hijos para dar una puntuación a elementos estratégicos de nivel superior.
    *   **Simple Value Imports:** Opción de importación de datos más rápida y sencilla para valores de KPI e Iniciativas que ya están en un formato compatible y específico.
    *   **Standard Value Imports:** Opción de importación de datos más avanzada que ofrece capacidades completas de Extracción, Transformación y Carga (ETL) para valores de KPI e Iniciativas.
    *   **ETL (Extract, Transform, Load / Extraer, Transformar, Cargar):** Un proceso de integración de datos que implica extraer datos de sistemas de origen, transformarlos para cumplir con las necesidades del negocio y cargarlos en un sistema de destino.
    *   **Updater:** Usuario o grupo asignado para actualizar manualmente los valores de un KPI.
    *   **Owner:** Usuario o grupo asignado como responsable de un elemento del Scorecard (ej., un KPI).
    *   **Dataset:** Componente de DeltaOne que rastrea datos brutos no estructurados que no se puntúan, sirviendo como la capa de inteligencia de negocios subyacente a la gestión estratégica. Se puede analizar y reportar directamente, y sus datos pueden agregarse para alimentar KPIs.
    *   **Ecuaciones:** Sintaxis y funciones utilizadas en DeltaOne para combinar valores de diferentes fuentes dentro de la aplicación, como para calcular valores de KPI o campos de datasets.
    *   **Ponderación (Weighting):** Capacidad de asignar una importancia relativa a los elementos de un Scorecard para el cálculo de su puntuación agregada.

### **2. Modelo de Casos de Uso**

*   **2.1. Diagrama de Casos de Uso (UML):**
    No es posible generar un diagrama UML en este formato. Sin embargo, un diagrama de casos de uso UML para este proyecto incluiría los actores principales y los casos de uso de alto nivel, mostrando sus relaciones y las funcionalidades que cada actor puede realizar. Visualizaría las interacciones para la gestión de Scorecards, KPIs, importaciones, alertas, usuarios, grupos y la estructura organizacional.

*   **2.2. Lista de Actores:**
    Los actores principales que interactuarán con el sistema son:
    *   **Administrador de Plataforma:** Responsable de la configuración técnica, gestión de conexiones, usuarios, grupos y permisos, y personalización de la terminología.
    *   **Experto en Datos:** Encargado de identificar fuentes de KPI, definir formatos y asegurar la calidad de los datos para la importación.
    *   **Usuario Clave de Negocio (Owner/Updater):** Define Scorecards y KPIs, valida datos y funcionalidades, participa en pruebas de aceptación, y actualiza/posee elementos de Scorecard.
    *   **Sistema de Origen de Datos:** Representa las bases de datos o archivos desde donde se importarán los datos de KPI.

*   **2.3. Lista de Casos de Uso:**
    A continuación, se presenta una lista de los casos de uso de alto nivel desglosados por área funcional:

    **Configuración y gestión de Scorecards y KPIs:**
    *   UC-100: Gestionar Estructura de Scorecards
    *   UC-101: Definir y Configurar KPI
    *   UC-102: Configurar Actualizaciones Manuales de KPI
    *   UC-103: Configurar Cálculos Automáticos de KPI
    *   UC-104: Asignar Propietarios a Elementos de Scorecard
    *   UC-105: Gestionar Ponderación de Elementos de Scorecard
    *   UC-106: Auditar Cálculos de KPI y Puntuaciones

    **Implementación de importaciones de datos solo para KPIs:**
    *   UC-200: Configurar Importación Simple de Valores de KPI (desde Hojas de Cálculo)
    *   UC-201: Configurar Importación Estándar de Valores de KPI (desde Hojas de Cálculo y Bases de Datos)
    *   UC-202: Gestionar Conexiones de Importación de Datos
    *   UC-203: Transformar Datos Durante la Importación
    *   UC-204: Programar Importaciones Recurrentes de KPI

    **Configuración de Alertas para eventos específicos de KPI y notas:**
    *   UC-300: Configurar Alertas para KPIs en Estado "Rojo"
    *   UC-301: Configurar Recordatorios de Actualización de KPI
    *   UC-302: Habilitar Alertas por Respuestas a Notas
    *   UC-303: Requerir Nota al Actualizar KPI a Bajo Rendimiento
    *   UC-304: Crear Alertas Personalizadas para Cambios de KPI

    **Administración de usuarios, grupos y permisos con capacidad de personalizar la terminología y metodología:**
    *   UC-400: Gestionar Usuarios Individuales
    *   UC-401: Importar Usuarios Masivamente
    *   UC-402: Crear y Gestionar Grupos de Usuarios y Permisos
    *   UC-403: Personalizar Terminología de la Aplicación
    *   UC-404: Activar/Desactivar Strategy Maps

    **Organizaciones:**
    *   UC-500: Configurar Jerarquía de Organizaciones
    *   UC-501: Implementar KPIs de Rollup entre Organizaciones
    *   UC-502: Configurar Organizaciones Basadas en Plantillas desde Datasets
    *   UC-503: Integrar Permisos Organizacionales con Grupos de Árboles de Rollup

### **3. Descripción Detallada de los Casos de Uso**

#### **3.1. Caso de Uso: UC-100: Gestionar Estructura de Scorecards**

*   **Identificador:** UC-100
*   **Actor Principal:** Administrador de Plataforma, Usuario Clave de Negocio
*   **Objetivo:** Crear, modificar y organizar la jerarquía de los elementos del Scorecard para reflejar la estrategia y las métricas de rendimiento de la organización.
*   **Precondiciones:**
    *   El usuario debe tener permisos de "Administración de Aplicación" o "Modificar estructura del Scorecard".
    *   La instancia de DeltaOne debe estar operativa.
*   **Postcondiciones:**
    *   La estructura del Scorecard ha sido actualizada con los nuevos elementos, jerarquía o modificaciones.
    *   Los cambios se reflejan en la vista del Scorecard.
*   **Flujo de Eventos Principal:**
    1.  El actor selecciona la sección "Scorecards".
    2.  El sistema muestra el árbol del Scorecard existente.
    3.  El actor puede:
        *   **Crear nuevo elemento:** Selecciona un elemento padre en el árbol y hace clic en "Nuevo Elemento de Scorecard".
        *   **Editar elemento existente:** Selecciona un elemento en el árbol y va a su pestaña "Editar".
        *   **Reorganizar elementos:** Arrastra y suelta elementos dentro del árbol para cambiar su jerarquía o orden.
    4.  El actor ingresa/modifica el nombre, descripción y otros atributos del elemento.
    5.  El actor guarda los cambios.
    6.  El sistema actualiza la estructura del Scorecard y la hace visible para los usuarios con permisos.
*   **Flujos de Eventos Alternativos:**
    *   **UC-100a: Crear múltiples elementos de Scorecard hermanos:** Después de crear un elemento, el sistema permite rápidamente añadir otro elemento hermano.
    *   **UC-100b: Importar ítems de Scorecard desde una hoja de cálculo:** El actor puede subir una hoja de cálculo con la estructura del Scorecard para importarlos masivamente.
*   **Flujos de Excepción:**
    *   **UC-100-EX1: Entrada de datos inválida:** Si el actor intenta guardar con datos incorrectos (ej. nombre duplicado en el mismo nivel), el sistema muestra un mensaje de error y no permite guardar.
    *   **UC-100-EX2: Problemas de permisos:** Si el actor no tiene los permisos necesarios, el sistema deniega la acción y muestra un mensaje de error.
*   **Reglas de Negocio:**
    *   Cada elemento de Scorecard debe tener un nombre único dentro de su nivel jerárquico.
    *   La jerarquía del Scorecard debe organizarse con KPIs en la base del árbol.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** La interfaz para la configuración de Scorecards debe ser intuitiva.
    *   **Rendimiento (SRS-NFR-PER-001):** La carga y visualización de Scorecards debe ser ágil.

#### **3.2. Caso de Uso: UC-101: Definir y Configurar KPI**

*   **Identificador:** UC-101
*   **Actor Principal:** Usuario Clave de Negocio, Administrador de Plataforma
*   **Objetivo:** Establecer las características de un KPI, incluyendo su tipo de puntuación, calendario de actualización, tipo de dato y agregación.
*   **Precondiciones:**
    *   El usuario tiene permisos para crear o editar KPIs.
    *   La estructura del Scorecard donde se ubicará el KPI ya existe.
*   **Postcondiciones:**
    *   El KPI ha sido definido o actualizado con sus propiedades específicas (ej. tipo de puntuación, calendario, data type).
    *   El KPI está listo para recibir valores y ser parte de los cálculos del Scorecard.
*   **Flujo de Eventos Principal:**
    1.  El actor accede a la edición de un KPI existente o crea uno nuevo (ver UC-100).
    2.  El sistema muestra el formulario de configuración del KPI.
    3.  El actor configura los siguientes detalles:
        *   **Tipo de Puntuación (Scoring Type):** Selecciona entre opciones como Goal/Red Flag, Yes/No, Texto, etc..
        *   **Calendario (Calendar):** Define la frecuencia de actualización (ej. mensual, trimestral).
        *   **Tipo de Dato (Data Type):** Elige si es Número, Porcentaje o Moneda.
        *   **Tipo de Agregación (Aggregation Type):** Define cómo se combinan los datos para múltiples períodos (ej. Suma, Promedio).
        *   **Precisión Decimal (Decimal Precision):** Establece el número de decimales.
    4.  El actor guarda los cambios.
    5.  El sistema valida la configuración y actualiza el KPI.
*   **Flujos de Eventos Alternativos:**
    *   **UC-101a: Personalizar tipos de puntuación:** El Administrador de Plataforma puede editar los tipos de puntuación disponibles o crear nuevos tipos en la sección de Administración de la Aplicación.
*   **Flujos de Excepción:**
    *   **UC-101-EX1: Selección de tipo de dato incompatible:** Si el actor intenta guardar una configuración incompatible (ej. tipo de puntuación numérico con data type de texto), el sistema advierte sobre la incompatibilidad.
*   **Reglas de Negocio:**
    *   Cada KPI debe tener un "Scoring Type" definido.
    *   La elección del "Scoring Type" afecta las opciones de configuración disponibles para el KPI.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** La interfaz para la definición de KPIs debe ser clara y guiada.

#### **3.3. Caso de Uso: UC-102: Configurar Actualizaciones Manuales de KPI**

*   **Identificador:** UC-102
*   **Actor Principal:** Usuario Clave de Negocio (Updater), Administrador de Plataforma
*   **Objetivo:** Habilitar la entrada manual de valores para un KPI y designar a los usuarios responsables de realizar estas actualizaciones.
*   **Precondiciones:**
    *   El KPI ha sido creado y configurado (ver UC-101).
    *   El usuario tiene permisos para modificar KPIs.
*   **Postcondiciones:**
    *   El KPI está configurado para permitir la actualización manual de sus valores.
    *   Los "Updaters" designados han sido asignados al KPI.
*   **Flujo de Eventos Principal:**
    1.  El actor accede a la edición del KPI (ver UC-100).
    2.  En la sección de configuración de KPI, el actor selecciona "Manual" como el tipo de actualización para la serie de valores "Actual".
    3.  El actor designa uno o más usuarios o grupos como "Updaters" para el KPI.
    4.  Opcionalmente, el actor puede permitir que los "Updaters" modifiquen los umbrales del KPI (ej. metas).
    5.  El actor guarda los cambios.
    6.  El sistema registra los "Updaters" para el KPI.
*   **Flujos de Eventos Alternativos:**
    *   **UC-102a: Actualizar manualmente valores de KPI:** Los "Updaters" pueden ingresar valores de KPI directamente en la interfaz (Home > KPI Updates o Scorecards Overview).
*   **Flujos de Excepción:**
    *   **UC-102-EX1: Usuario no encontrado:** Si el actor intenta asignar un "Updater" que no existe, el sistema muestra un error.
*   **Reglas de Negocio:**
    *   Solo los usuarios designados como "Updaters" pueden ingresar valores manualmente para un KPI.
    *   Las actualizaciones manuales se aplican al período de calendario seleccionado.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-001):** Las actualizaciones deben ser consistentes.

#### **3.4. Caso de Uso: UC-103: Configurar Cálculos Automáticos de KPI**

*   **Identificador:** UC-103
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Definir ecuaciones para que los valores de los KPIs se calculen automáticamente a partir de otros KPIs o elementos del Scorecard.
*   **Precondiciones:**
    *   El KPI ha sido creado y configurado (ver UC-101).
    *   El usuario tiene permisos para crear ecuaciones o modificar KPIs.
*   **Postcondiciones:**
    *   El KPI está configurado para calcular automáticamente su valor o umbrales según la ecuación definida.
    *   Los valores del KPI se actualizan de forma automática cuando cambian los valores de los KPIs referenciados.
*   **Flujo de Eventos Principal:**
    1.  El actor accede a la edición del KPI (ver UC-100).
    2.  En la sección de configuración del KPI, el actor cambia el tipo de actualización de la serie de valores "Actual" (o un umbral) de "Manual" a "Calculado".
    3.  El actor hace clic en el botón "Set Equation".
    4.  El sistema muestra el editor de ecuaciones.
    5.  El actor construye la ecuación, referenciando otros KPIs, sus valores o umbrales, y utilizando operadores y funciones.
    6.  El actor guarda la ecuación.
    7.  El actor guarda los cambios en el KPI.
    8.  El sistema calcula el valor del KPI y lo muestra en la vista del Scorecard.
*   **Flujos de Eventos Alternativos:**
    *   **UC-103a: Referenciar KPIs en otros períodos:** El actor puede definir ecuaciones que hagan referencia a valores de KPIs de períodos anteriores o futuros.
    *   **UC-103b: Referenciar Scores o Iniciativas:** El actor puede incluir scores de otros ítems de Scorecard o valores de Iniciativas en las ecuaciones.
*   **Flujos de Excepción:**
    *   **UC-103-EX1: Ecuación inválida:** Si la ecuación contiene errores de sintaxis o referencias inválidas, el sistema muestra un mensaje de error y no permite guardar.
    *   **UC-103-EX2: Valores en blanco/N/A:** El sistema maneja valores en blanco o "No Aplicable" en ecuaciones según la configuración establecida (ej. tratar como 0, N/A, o que la ecuación resulte en blanco).
*   **Reglas de Negocio:**
    *   Las ecuaciones deben seguir la sintaxis y funciones definidas por DeltaOne.
    *   Los KPIs calculados pueden referenciar cualquier otro KPI o elemento de Scorecard en la plataforma.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-002):** El sistema debe garantizar la exactitud de los cálculos.

#### **3.5. Caso de Uso: UC-104: Asignar Propietarios a Elementos de Scorecard**

*   **Identificador:** UC-104
*   **Actor Principal:** Administrador de Plataforma, Usuario Clave de Negocio
*   **Objetivo:** Asignar la responsabilidad de un KPI o cualquier elemento del Scorecard a uno o más usuarios o grupos.
*   **Precondiciones:**
    *   El elemento del Scorecard existe.
    *   Los usuarios o grupos a asignar existen en el sistema.
*   **Postcondiciones:**
    *   El usuario(s) o grupo(s) designado(s) figura(n) como propietario(s) del elemento del Scorecard.
    *   Los propietarios pueden ver una lista de los KPIs que poseen en su sección "Home".
*   **Flujo de Eventos Principal:**
    1.  El actor selecciona el elemento del Scorecard en el árbol del Scorecard.
    2.  El actor accede a la pestaña "Editar" del elemento.
    3.  En la sección "Owners" o "Asignar Propietarios", el actor busca y selecciona los usuarios o grupos deseados.
    4.  El actor guarda los cambios.
    5.  El sistema registra los propietarios asignados.
*   **Flujos de Eventos Alternativos:**
    *   **UC-104a: Asignar múltiples propietarios:** Se pueden asignar varios usuarios o grupos como propietarios del mismo elemento.
    *   **UC-104b: Edición masiva de propietarios:** El administrador puede editar los propietarios de múltiples elementos del Scorecard a la vez mediante la función de edición masiva.
*   **Flujos de Excepción:**
    *   **UC-104-EX1: Usuario/Grupo no existente:** Si el actor intenta asignar un propietario que no existe, el sistema lo indica.
*   **Reglas de Negocio:**
    *   La asignación de propietarios es crucial para la rendición de cuentas y la alineación estratégica.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** El proceso de asignación de propietarios debe ser sencillo.

#### **3.6. Caso de Uso: UC-105: Gestionar Ponderación de Elementos de Scorecard**

*   **Identificador:** UC-105
*   **Actor Principal:** Usuario Clave de Negocio, Administrador de Plataforma
*   **Objetivo:** Ajustar la importancia relativa de los elementos del Scorecard para influir en el cálculo de la puntuación agregada de sus padres.
*   **Precondiciones:**
    *   El elemento del Scorecard existe y tiene elementos hijos.
    *   El usuario tiene permisos para modificar la ponderación de elementos del Scorecard.
*   **Postcondiciones:**
    *   La ponderación del elemento del Scorecard ha sido ajustada.
    *   La puntuación agregada de los elementos padre se recalcula según las nuevas ponderaciones.
*   **Flujo de Eventos Principal:**
    1.  El actor selecciona el elemento del Scorecard en el árbol.
    2.  El actor accede a la pestaña "Editar".
    3.  En la sección de "Ponderación" (Weight), el actor hace clic en el valor de ponderación.
    4.  El sistema abre un diálogo para editar la ponderación. Las ponderaciones se editan como números relativos.
    5.  El actor ingresa un nuevo valor de ponderación.
    6.  El sistema recalcula automáticamente los porcentajes de ponderación de los hermanos del elemento.
    7.  El actor guarda los cambios.
    8.  El sistema aplica la nueva ponderación y actualiza las puntuaciones agregadas.
*   **Flujos de Eventos Alternativos:**
    *   **UC-105a: Cambiar ponderaciones a lo largo del tiempo:** El actor puede definir rangos de fechas para que las ponderaciones cambien en diferentes períodos de tiempo.
*   **Flujos de Excepción:**
    *   **UC-105-EX1: Ponderación inválida:** Si se intenta introducir un valor no numérico, el sistema lo rechaza.
*   **Reglas de Negocio:**
    *   Las ponderaciones se utilizan para calcular un promedio ponderado de las puntuaciones de los elementos hijos al acumularse hacia arriba en el árbol del Scorecard.
    *   Los porcentajes de ponderación de los elementos hermanos se ajustan automáticamente cuando se modifica uno.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-002):** La exactitud de los cálculos de puntuación debe estar garantizada.

#### **3.7. Caso de Uso: UC-106: Auditar Cálculos de KPI y Puntuaciones**

*   **Identificador:** UC-106
*   **Actor Principal:** Usuario Clave de Negocio, Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Verificar la procedencia y el método de cálculo de los valores de KPI y las puntuaciones para asegurar la confianza en los datos.
*   **Precondiciones:**
    *   El KPI o elemento del Scorecard tiene valores calculados o puntuaciones asignadas.
*   **Postcondiciones:**
    *   El actor comprende cómo se derivó un valor o puntuación específica.
    *   Se mantiene la confianza en la fiabilidad de los datos de desempeño.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la pestaña "Overview" de un KPI o elemento del Scorecard.
    2.  El sistema muestra la tabla de "Valores Reales y de Umbral".
    3.  El actor pasa el cursor sobre un valor de KPI o puntuación calculado en la tabla.
    4.  El sistema muestra una información emergente (tooltip) con la ecuación o el origen del cálculo.
    5.  El actor hace clic en el valor para ver un diálogo con la ecuación completa y los valores sustituidos de los KPIs referenciados.
    6.  El actor puede hacer clic en las referencias de KPI dentro de la ecuación para rastrear la fuente de datos hasta su origen.
*   **Flujos de Excepciones:**
    *   **UC-106-EX1: Datos de origen inaccesibles:** Si un sistema de origen de datos no está disponible, el sistema debe indicar que los datos son parciales o inaccesibles, aunque los valores históricos persistirán.
*   **Reglas de Negocio:**
    *   Todos los valores calculados deben ser trazables hasta sus componentes de origen.
    *   La plataforma debe proporcionar detalles de la lógica de agregación (suma, promedio) utilizada para los rollups.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-002):** El sistema debe garantizar la exactitud de los cálculos.

#### **3.8. Caso de Uso: UC-200: Configurar Importación Simple de Valores de KPI (desde Hojas de Cálculo)**

*   **Identificador:** UC-200
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma, Usuario Clave de Negocio
*   **Objetivo:** Importar rápidamente valores de KPI desde hojas de cálculo (Excel) que ya están en un formato compatible.
*   **Precondiciones:**
    *   El actor tiene acceso a la hoja de cálculo con los valores de KPI en el formato requerido.
    *   Los KPIs de destino ya existen en DeltaOne.
*   **Postcondiciones:**
    *   Los valores de los KPIs seleccionados se actualizan con los datos de la hoja de cálculo.
    *   Se registra un historial de la importación realizada.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la sección de importación de datos (ej., desde la sección "Scorecards" o "Home" > "Actualizar KPIs").
    2.  El actor selecciona la opción "Simple Import".
    3.  El sistema solicita al actor que suba la hoja de cálculo.
    4.  El actor selecciona el archivo de hoja de cálculo desde su dispositivo.
    5.  El sistema procesa la hoja de cálculo y muestra una vista previa de los datos.
    6.  El actor confirma los KPIs de destino y el mapeo de fechas.
    7.  El actor inicia la importación.
    8.  El sistema importa los datos y actualiza los KPIs correspondientes.
*   **Flujos de Eventos Alternativos:**
    *   **UC-200a: Descargar plantilla de importación:** El actor puede descargar una plantilla preformateada de Excel para asegurar el formato correcto.
*   **Flujos de Excepción:**
    *   **UC-200-EX1: Formato de archivo incorrecto:** Si el archivo no es un formato de hoja de cálculo válido, el sistema rechaza la importación.
    *   **UC-200-EX2: Datos no coincidentes:** Si los KPIs en la hoja de cálculo no se encuentran en el sistema o el formato de fecha es incorrecto, el sistema muestra errores y no importa los datos afectados.
*   **Reglas de Negocio:**
    *   Los archivos para importación simple deben seguir una estructura de columnas o filas con fechas específicas para ser reconocidos automáticamente.
    *   Se pueden importar datos de múltiples hojas dentro de un mismo archivo Excel.
*   **Requisitos No Funcionales (Opcional):**
    *   **Rendimiento (SRS-NFR-PER-003):** Las opciones de importación deben procesar los datos rápidamente.
    *   **Fiabilidad (SRS-NFR-REL-001):** Las importaciones deben ejecutarse de manera confiable.

#### **3.9. Caso de Uso: UC-201: Configurar Importación Estándar de Valores de KPI (desde Hojas de Cálculo y Bases de Datos)**

*   **Identificador:** UC-201
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Configurar importaciones avanzadas de valores de KPI desde hojas de cálculo o bases de datos (SQL Server, Oracle, MySQL, PostgreSQL, Hive) con capacidades completas de ETL (Extracción, Transformación, Carga).
*   **Precondiciones:**
    *   Los KPIs de destino existen en DeltaOne.
    *   Para bases de datos, la conexión a la fuente de datos debe estar configurada (ver UC-202).
*   **Postcondiciones:**
    *   La importación estándar está definida y lista para ser ejecutada manual o programadamente.
    *   Los valores de los KPIs se actualizan según los datos importados y transformados.
*   **Flujo de Eventos Principal:**
    1.  El actor inicia una nueva importación de valores de KPI.
    2.  El actor selecciona la opción "Standard Import".
    3.  El sistema inicia un asistente de N pasos.
    4.  El actor elige la fuente de datos: una base de datos (seleccionando una conexión existente y escribiendo una consulta SQL) o una hoja de cálculo (subiendo un archivo o seleccionando de una ubicación).
    5.  El actor configura el mapeo de los campos de origen a los campos de destino del KPI (ej. fecha, valor).
    6.  El actor selecciona los KPIs de destino en el árbol del Scorecard.
    7.  El actor mapea los datos de importación con los KPIs de destino.
    8.  El actor guarda la configuración de importación.
    9.  El sistema guarda la importación como una importación guardada.
*   **Flujos de Eventos Alternativos:**
    *   **UC-201a: Incluir Transformaciones de Datos:** Durante el proceso, el actor puede añadir transformaciones para limpiar, filtrar o manipular los datos antes de la importación (ver UC-203).
*   **Flujos de Excepción:**
    *   **UC-201-EX1: Consulta SQL inválida:** Si la consulta SQL tiene errores, el sistema muestra el error correspondiente.
    *   **UC-201-EX2: Problemas de conexión con la BD:** Si la conexión a la base de datos falla, el sistema notifica el error.
*   **Reglas de Negocio:**
    *   Las importaciones estándar ofrecen capacidades completas de ETL para una mayor flexibilidad en la integración de datos.
    *   Las conexiones a bases de datos se gestionan de forma separada de las importaciones para seguridad.
*   **Requisitos No Funcionales (Opcional):**
    *   **Compatibilidad (SRS-NFR-CMP-001):** El sistema debe ser compatible con diversas bases de datos (MS SQL Server, Oracle, MySQL, PostgreSQL, Hive).
    *   **Usabilidad (SRS-NFR-USG-001):** La interfaz del asistente de importación debe ser intuitiva.

#### **3.10. Caso de Uso: UC-202: Gestionar Conexiones de Importación de Datos**

*   **Identificador:** UC-202
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Configurar y gestionar las conexiones a las fuentes de datos (bases de datos, hojas de cálculo) que se utilizarán para las importaciones de KPI.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación" o "Gestionar todas las Conexiones de Importación".
*   **Postcondiciones:**
    *   La conexión a la fuente de datos ha sido establecida o modificada.
    *   Las importaciones pueden hacer uso de la conexión configurada.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Import Connections".
    2.  El sistema muestra la lista de conexiones de importación existentes.
    3.  El actor puede:
        *   **Añadir nueva conexión:** Hace clic en "Añadir Conexión" y selecciona el tipo de fuente (ej. Microsoft SQL Server, Oracle, MySQL, PostgreSQL, Hive, Hoja de Cálculo).
        *   **Editar conexión existente:** Selecciona una conexión de la lista y hace clic para editar los detalles.
    4.  El actor ingresa los detalles de la conexión (ej. nombre de base de datos, credenciales, ubicación del archivo).
    5.  El actor guarda la conexión.
    6.  El sistema prueba la conexión y la añade a la lista.
*   **Flujos de Excepción:**
    *   **UC-202-EX1: Credenciales inválidas:** Si las credenciales son incorrectas, la conexión falla y el sistema notifica el error.
    *   **UC-202-EX2: Problemas de red/firewall:** Si hay restricciones de red que impiden la conexión, el sistema informa el fallo.
*   **Reglas de Negocio:**
    *   Las conexiones se gestionan por separado de las importaciones para permitir que los administradores de sistemas controlen el acceso a los servidores subyacentes sin que los usuarios normales tengan esa información.
    *   Los clientes auto-hospedados son responsables de la configuración de seguridad de red para restringir el acceso del servidor DeltaOne a información sensible.
*   **Requisitos No Funcionales (Opcional):**
    *   **Seguridad (SRS-NFR-SEG-002):** Los administradores deben poder gestionar las conexiones de forma independiente de los usuarios normales.
    *   **Mantenibilidad (SRS-NFR-MTN-002):** Proporciona gestión centralizada de conexiones.

#### **3.11. Caso de Uso: UC-203: Transformar Datos Durante la Importación**

*   **Identificador:** UC-203
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Aplicar transformaciones a los datos importados (ej. limpieza, filtrado, uso de expresiones regulares) para asegurar que cumplan con los requisitos de la plataforma antes de ser cargados en los KPIs.
*   **Precondiciones:**
    *   Se está configurando una "Importación Estándar de Valores de KPI" (ver UC-201).
*   **Postcondiciones:**
    *   Los datos se transforman según las reglas definidas durante el proceso de importación.
    *   Los KPIs reciben datos limpios y conformes a los estándares de la organización.
*   **Flujo de Eventos Principal:**
    1.  Durante la configuración de una importación estándar, el actor llega al paso opcional de "Transformación de Datos".
    2.  El actor hace clic en "Add Transformation".
    3.  El sistema presenta una lista de tipos de transformaciones disponibles (ej. filtro de expresión regular, conversión a fecha, eliminación de no-números).
    4.  El actor selecciona el tipo de transformación y configura sus parámetros (ej. expresión regular, criterios de filtro).
    5.  El actor puede añadir múltiples transformaciones, que se aplican en secuencia.
    6.  El actor verifica la vista previa de los datos transformados (si disponible).
    7.  El actor continúa con los siguientes pasos del asistente de importación.
*   **Flujos de Excepción:**
    *   **UC-203-EX1: Expresión regular inválida:** Si una expresión regular es incorrecta, el sistema la rechaza y muestra un mensaje de error.
    *   **UC-203-EX2: Datos no transformables:** Si los datos no cumplen con el formato esperado por la transformación, el sistema puede ignorarlos o marcarlos como erróneos.
*   **Reglas de Negocio:**
    *   Las transformaciones son opcionales y se aplican antes de la identificación de los campos y el mapeo a los KPIs de destino.
    *   Se pueden utilizar para reportar datos erróneos en los sistemas de origen.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-003):** La funcionalidad de transformación de datos debe permitir la limpieza de datos y la gestión de errores.

#### **3.12. Caso de Uso: UC-204: Programar Importaciones Recurrentes de KPI**

*   **Identificador:** UC-204
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Automatizar la actualización de los valores de KPI configurando las importaciones para que se ejecuten en intervalos definidos.
*   **Precondiciones:**
    *   Una importación de valores de KPI (estándar) ha sido guardada (ver UC-201).
*   **Postcondiciones:**
    *   La importación se ejecuta automáticamente según el cronograma establecido.
    *   Los valores de KPI se mantienen actualizados sin intervención manual continua.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la pantalla "Admin > Imports" o a la pestaña "Edit" de un Dataset asociado.
    2.  El actor selecciona la importación guardada que desea programar.
    3.  El sistema muestra los detalles de la importación.
    4.  El actor hace clic en la opción "Schedule Import" o similar.
    5.  El sistema presenta opciones para definir la frecuencia de la programación (ej. diaria, semanal, mensual, trimestral, a una hora específica).
    6.  El actor configura el horario deseado (ej. "cada domingo por la noche").
    7.  El actor guarda la configuración de la programación.
    8.  El sistema activa la programación de la importación.
*   **Flujos de Excepción:**
    *   **UC-204-EX1: Fallo de ejecución programada:** Si una importación programada falla (ej. por problemas de conexión a la fuente de datos), el sistema debe registrar el error y, si está configurado, enviar una alerta (ver UC-300).
*   **Reglas de Negocio:**
    *   Solo las importaciones guardadas pueden ser programadas.
    *   Las importaciones programadas se ejecutan de forma asíncrona.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-001):** Las importaciones programadas deben ejecutarse de manera confiable y consistente.
    *   **Mantenibilidad (SRS-NFR-MTN-001):** Permite guardar y programar configuraciones de importación para su reutilización.

#### **3.13. Caso de Uso: UC-300: Configurar Alertas para KPIs en Estado "Rojo"**

*   **Identificador:** UC-300
*   **Actor Principal:** Usuario Clave de Negocio, Administrador de Plataforma
*   **Objetivo:** Recibir notificaciones automáticas cuando un KPI alcance un estado de bajo rendimiento ("Rojo"), permitiendo una respuesta proactiva.
*   **Precondiciones:**
    *   Los KPIs de interés están definidos y sus umbrales de puntuación están configurados.
    *   El sistema de correo electrónico está configurado para el envío de alertas.
*   **Postcondiciones:**
    *   El usuario recibe alertas automáticas (vía email y en la aplicación) cuando un KPI se vuelve "Rojo".
    *   Se facilita la toma de decisiones proactiva.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la pestaña "Overview" de un KPI o hace clic en el botón "Alert" en el encabezado.
    2.  El actor hace clic en "Edit Alerts".
    3.  El sistema muestra el diálogo de configuración de alertas.
    4.  El actor activa la alerta "Red KPIs upon turning red" (o similar).
    5.  El actor puede configurar la frecuencia de la notificación (ej. inmediata, diaria, semanal).
    6.  El actor guarda la configuración de la alerta.
    7.  El sistema monitorea el estado del KPI y envía una alerta cuando este cambia a "Rojo".
*   **Flujos de Eventos Alternativos:**
    *   **UC-300a: Alerta para "KPIs rojos sin iniciativas":** El sistema puede configurarse para alertar a los propietarios de KPIs que están en "Rojo" pero no tienen una iniciativa relacionada para corregir su rendimiento.
*   **Flujos de Excepción:**
    *   **UC-300-EX1: Fallo en el envío de correo electrónico:** Si el servidor SMTP configurado falla, las alertas por correo electrónico no se envían, pero la notificación en la aplicación persiste.
*   **Reglas de Negocio:**
    *   Las alertas se basan en los umbrales de puntuación definidos para cada KPI.
    *   Los propietarios de los KPIs son los destinatarios principales de estas alertas.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-001):** Las alertas deben dispararse correctamente.
    *   **Usabilidad (SRS-NFR-USG-001):** La configuración de alertas debe ser intuitiva.

#### **3.14. Caso de Uso: UC-301: Configurar Recordatorios de Actualización de KPI**

*   **Identificador:** UC-301
*   **Actor Principal:** Administrador de Plataforma, Usuario Clave de Negocio (con permisos)
*   **Objetivo:** Enviar recordatorios automáticos a los "Updaters" de KPIs para asegurar que los valores se actualicen a tiempo.
*   **Precondiciones:**
    *   Los KPIs tienen "Updaters" asignados.
    *   Los KPIs tienen una frecuencia de actualización definida.
*   **Postcondiciones:**
    *   Los "Updaters" reciben recordatorios por correo electrónico y en la aplicación antes o después de la fecha límite de actualización.
    *   Se mejora la puntualidad de la información de KPI.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la sección de "Application Administration > Alerts".
    2.  El actor activa la opción "KPI update reminders".
    3.  El actor configura los parámetros del recordatorio, como la cantidad de días antes y/o después del final del período de actualización para enviar el recordatorio.
    4.  El actor guarda la configuración.
    5.  El sistema envía automáticamente los recordatorios a los "Updaters" de KPI que no han actualizado sus valores.
*   **Flujos de Excepción:**
    *   **UC-301-EX1: Falta de conexión SMTP:** Si el servidor de correo electrónico no está configurado, los correos de recordatorio no se enviarán.
*   **Reglas de Negocio:**
    *   Los recordatorios solo se envían a los usuarios designados como "Updaters" para el KPI.
    *   El recordatorio se basa en el calendario de actualización del KPI.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-001):** Las notificaciones programadas deben ser fiables.

#### **3.15. Caso de Uso: UC-302: Habilitar Alertas por Respuestas a Notas**

*   **Identificador:** UC-302
*   **Actor Principal:** Administrador de Plataforma, Usuario Clave de Negocio
*   **Objetivo:** Notificar al autor de una nota cuando se ha recibido una respuesta a la misma, fomentando la colaboración.
*   **Precondiciones:**
    *   Existe un sistema de notas asociado a los elementos del Scorecard.
    *   La funcionalidad de alertas está habilitada.
*   **Postcondiciones:**
    *   El autor de una nota recibe una alerta cuando alguien responde a su nota.
*   **Flujo de Eventos Principal:**
    1.  El actor (Administrador de Plataforma) navega a la sección "Application Administration > Alerts".
    2.  El actor activa la opción "Note replied to".
    3.  El actor guarda la configuración.
    4.  Cuando un usuario responde a una nota existente en un elemento del Scorecard, el sistema detecta la respuesta.
    5.  El sistema envía una alerta al autor original de la nota, tanto por correo electrónico como en la aplicación.
*   **Flujos de Excepción:**
    *   **UC-302-EX1: Desactivación de correos electrónicos personales:** Si un usuario desactiva las notificaciones por correo electrónico en su configuración personal, no recibirá el email, pero sí la alerta en la aplicación.
*   **Reglas de Negocio:**
    *   Solo el autor de la nota original recibe la alerta de respuesta.
    *   Las notas pueden estar asociadas a períodos específicos o al elemento del Scorecard en general.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** La función de notas debe ser fácil de usar para fomentar la comunicación.

#### **3.16. Caso de Uso: UC-303: Requerir Nota al Actualizar KPI a Bajo Rendimiento**

*   **Identificador:** UC-303
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Asegurar que todas las actualizaciones de KPI que resulten en un bajo rendimiento (ej. estado "Rojo") incluyan una explicación obligatoria.
*   **Precondiciones:**
    *   Los KPIs tienen umbrales de puntuación definidos.
    *   La funcionalidad de notas para los elementos del Scorecard está disponible.
*   **Postcondiciones:**
    *   El sistema exige que se adjunte una nota cuando se actualiza un KPI a un estado de bajo rendimiento.
    *   Se garantiza el contexto y la trazabilidad de las razones detrás de un bajo rendimiento.
*   **Flujo de Eventos Principal:**
    1.  El actor (Administrador de Plataforma) navega a "Application Administration > Scorecards".
    2.  En el panel "Scorecards", el actor encuentra la configuración para "Requerir Notas para Actualizaciones Rojas" o "Requerir Nota para Actualizaciones de KPI de Bajo Rendimiento".
    3.  El actor activa esta configuración y, si es necesario, establece el umbral de puntuación por debajo del cual se requiere una nota.
    4.  El actor guarda la configuración.
    5.  Cuando un "Updater" (ver UC-102) intenta actualizar un KPI con un valor que lo lleva a un estado de bajo rendimiento, el sistema bloquea la acción hasta que se ingrese una nota.
    6.  El "Updater" ingresa la nota explicativa.
    7.  El sistema permite guardar la actualización del KPI con la nota asociada.
*   **Flujos de Excepción:**
    *   **UC-303-EX1: Nota no proporcionada:** Si el usuario no proporciona la nota requerida, el sistema no permite guardar la actualización del KPI.
*   **Reglas de Negocio:**
    *   La obligatoriedad de la nota se activa cuando el KPI alcanza o supera un umbral de bajo rendimiento predefinido.
    *   Esta regla aplica a las actualizaciones manuales de KPI.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-003):** La gestión de errores debe ser robusta para asegurar la calidad de la información.

#### **3.17. Caso de Uso: UC-304: Crear Alertas Personalizadas para Cambios de KPI**

*   **Identificador:** UC-304
*   **Actor Principal:** Usuario Clave de Negocio, Administrador de Plataforma
*   **Objetivo:** Configurar alertas específicas para notificar sobre cambios en la puntuación o el valor de un KPI más allá de los estados predefinidos.
*   **Precondiciones:**
    *   El KPI de interés está configurado en el sistema.
    *   El usuario tiene permisos para crear alertas.
*   **Postcondiciones:**
    *   El usuario recibe notificaciones personalizadas basadas en cambios específicos en el KPI.
    *   Se mejora la capacidad de monitoreo granular del desempeño.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la pestaña "Overview" de un KPI.
    2.  El actor hace clic en el botón "Alert" en el encabezado.
    3.  El sistema muestra el diálogo de configuración de alertas.
    4.  El actor selecciona la opción para crear una alerta personalizada, eligiendo qué evento del KPI la disparará (ej. "Score changing", "KPI value changing").
    5.  El actor define las condiciones específicas para que se dispare la alerta (ej. "cuando el valor supera X", "cuando la puntuación cae por debajo de Y").
    6.  El actor guarda la configuración de la alerta.
    7.  El sistema monitorea el KPI según los criterios definidos y envía la alerta cuando se cumplen las condiciones.
*   **Flujos de Excepción:**
    *   **UC-304-EX1: Criterios de alerta no válidos:** Si los criterios de alerta son ambiguos o sintácticamente incorrectos, el sistema debe indicarlo.
*   **Reglas de Negocio:**
    *   Las alertas personalizadas permiten una flexibilidad granular en el monitoreo del rendimiento.
    *   El sistema permite configurar el envío por correo electrónico y notificaciones en la aplicación.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** La configuración de alertas debe ser sencilla para los usuarios clave.

#### **3.18. Caso de Uso: UC-400: Gestionar Usuarios Individuales**

*   **Identificador:** UC-400
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Crear, editar y desactivar cuentas de usuario individuales en la plataforma DeltaOne.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación".
*   **Postcondiciones:**
    *   Una cuenta de usuario individual ha sido creada, modificada o desactivada.
    *   El usuario puede acceder al sistema con los permisos asignados (si está activo).
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Users".
    2.  El sistema muestra la lista de usuarios existentes.
    3.  El actor puede:
        *   **Añadir nuevo usuario:** Hace clic en el botón "+" y completa los campos (nombre de usuario, email, nombre, apellido, contraseña).
        *   **Editar usuario existente:** Selecciona un usuario de la lista y modifica sus detalles.
        *   **Desactivar usuario:** Selecciona un usuario y elige la opción para desactivarlo (no se especifica eliminar).
    4.  Para nuevos usuarios, el actor puede optar por requerir un cambio de contraseña en el primer inicio de sesión.
    5.  El actor guarda los cambios.
    6.  El sistema actualiza la base de datos de usuarios.
*   **Flujos de Excepción:**
    *   **UC-400-EX1: Nombre de usuario duplicado:** Si se intenta crear un usuario con un nombre ya existente, el sistema muestra un error.
    *   **UC-400-EX2: Formato de correo electrónico inválido:** El sistema valida el formato del correo electrónico.
*   **Reglas de Negocio:**
    *   Cada usuario debe tener un nombre de usuario único y una dirección de correo electrónico.
    *   Los permisos de los usuarios se definen a través de la pertenencia a grupos.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-001):** La interfaz para la gestión de usuarios debe ser intuitiva.

#### **3.19. Caso de Uso: UC-401: Importar Usuarios Masivamente**

*   **Identificador:** UC-401
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Añadir o actualizar múltiples cuentas de usuario a la vez utilizando una hoja de cálculo.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación".
    *   La hoja de cálculo con los datos de los usuarios está en el formato requerido.
*   **Postcondiciones:**
    *   Múltiples cuentas de usuario han sido creadas o actualizadas en la plataforma.
    *   Los usuarios importados pueden acceder al sistema con las configuraciones iniciales.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Users".
    2.  El actor hace clic en el botón "Import".
    3.  El sistema muestra un diálogo de importación con instrucciones sobre el formato de datos y la opción de descargar un archivo de ejemplo.
    4.  El actor sube la hoja de cálculo con la lista de usuarios (nombre de usuario, email, nombre, apellido, contraseña - opcional: middle name, group_key, title).
    5.  El sistema previsualiza los datos y alerta sobre cualquier campo inválido.
    6.  El actor confirma la importación.
    7.  El sistema procesa el archivo, creando nuevos usuarios o actualizando existentes (ej. restableciendo contraseñas).
*   **Flujos de Excepción:**
    *   **UC-401-EX1: Formato de archivo incorrecto:** Si el archivo no es una hoja de cálculo válida o no sigue el formato, el sistema lo rechaza.
    *   **UC-401-EX2: Errores en datos de usuario:** Si hay datos inválidos para usuarios específicos (ej. email malformado), el sistema puede importar los válidos y reportar los errores.
*   **Reglas de Negocio:**
    *   La importación masiva permite restablecer contraseñas de usuarios existentes, forzándolos a cambiarlas en el siguiente inicio de sesión.
    *   La importación puede incluir la asignación a grupos.
*   **Requisitos No Funcionales (Opcional):**
    *   **Escalabilidad (SRS-NFR-ESC-001):** El sistema debe soportar la importación masiva de usuarios.

#### **3.20. Caso de Uso: UC-402: Crear y Gestionar Grupos de Usuarios y Permisos**

*   **Identificador:** UC-402
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Organizar usuarios en grupos y asignar permisos granulares basados en roles a esos grupos, controlando el acceso a funcionalidades y datos.
*   **Precondiciones:**
    *   Los usuarios existen en el sistema (ver UC-400, UC-401).
*   **Postcondiciones:**
    *   Se han creado o modificado grupos de usuarios con permisos específicos.
    *   Los miembros del grupo tienen el acceso y las funcionalidades correspondientes a los permisos asignados.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Groups & Permissions".
    2.  El sistema muestra la lista de grupos existentes.
    3.  El actor puede:
        *   **Crear nuevo grupo:** Hace clic en el botón "+" ("Add") e ingresa el nombre del grupo y selecciona un "tipo de grupo" (ej. Power Users, Update Users, Interactive Users, View Only).
        *   **Editar grupo existente:** Selecciona un grupo y modifica sus configuraciones.
        *   **Copiar grupo:** Selecciona un grupo y copia su configuración y miembros (opcional).
        *   **Eliminar grupo:** Selecciona un grupo y lo elimina.
    4.  El actor asigna permisos específicos a las funcionalidades (Advanced Permissions) y permisos basados en la organización (Organization Permissions) al grupo.
    5.  El actor añade o quita miembros del grupo.
    6.  El actor guarda los cambios.
    7.  El sistema aplica los permisos al grupo y a sus miembros.
*   **Flujos de Eventos Alternativos:**
    *   **UC-402a: Ver permisos por organización:** El actor puede cambiar la vista para ver qué grupos tienen permisos para una organización específica ("By Organization" view).
*   **Flujos de Excepción:**
    *   **UC-402-EX1: Nombre de grupo duplicado:** Si se intenta crear un grupo con un nombre ya existente, el sistema muestra un error.
*   **Reglas de Negocio:**
    *   Los permisos se aplican a nivel de grupo; todos los miembros del grupo heredan esos permisos.
    *   Existen cuatro tipos de grupos predefinidos con diferentes niveles de acceso base.
*   **Requisitos No Funcionales (Opcional):**
    *   **Seguridad (SRS-NFR-SEG-001):** El acceso debe estar protegido mediante un sistema de permisos basado en roles de grupo.
    *   **Escalabilidad (SRS-NFR-ESC-003):** La gestión de permisos debe ser escalable.

#### **3.21. Caso de Uso: UC-403: Personalizar Terminología de la Aplicación**

*   **Identificador:** UC-403
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Modificar la terminología predeterminada de la aplicación (ej. cambiar "Measures" a "KPIs", "Perspective" a "Grouping") para alinearse con el lenguaje interno de la organización.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación".
*   **Postcondiciones:**
    *   La terminología de la aplicación se ha personalizado y se refleja en toda la interfaz de usuario.
    *   La plataforma se siente más familiar y alineada con la cultura de la organización.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Application Administration".
    2.  El actor selecciona la sección "Choosing Terminology and Methodology".
    3.  El sistema muestra las opciones de terminología configurables (ej. nombres de elementos de Scorecard e Iniciativas).
    4.  El actor selecciona una opción predefinida o ingresa texto personalizado para cada término que desea cambiar (ej. "Measures" a "KPIs").
    5.  El actor guarda los cambios.
    6.  El sistema aplica la nueva terminología de forma inmediata en toda la interfaz de usuario.
*   **Flujos de Eventos Alternativos:**
    *   **UC-403a: Personalización avanzada de frases:** Para cambios en cualquier frase de la aplicación o traducciones completas, el actor contacta a soporte para mantener un archivo de recursos de mensajes personalizado.
*   **Flujos de Excepción:**
    *   **UC-403-EX1: Término vacío o inválido:** Si el actor intenta guardar un término vacío o no permitido, el sistema lo impide.
*   **Reglas de Negocio:**
    *   La personalización de la terminología es un cambio a nivel de aplicación que afecta a todos los usuarios.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-002):** El sistema debe permitir la personalización de la terminología para alinearse con el lenguaje interno de la organización.

#### **3.22. Caso de Uso: UC-404: Activar/Desactivar Strategy Maps**

*   **Identificador:** UC-404
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Habilitar o deshabilitar la funcionalidad de "Strategy Maps" en la aplicación, según la metodología de gestión estratégica preferida por la organización.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación".
*   **Postcondiciones:**
    *   La sección y las funcionalidades de "Strategy Maps" están visibles o no visibles para los usuarios según la configuración.
    *   La plataforma se alinea con la metodología de Scorecard Balanceado de la organización.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a "Admin > Application Administration".
    2.  El actor selecciona la sección "Choosing Terminology and Methodology".
    3.  El sistema muestra la opción para "Habilitar y Deshabilitar Strategy Maps".
    4.  El actor activa o desactiva la opción.
    5.  El actor guarda los cambios.
    6.  El sistema actualiza la visibilidad de la sección "Strategy Maps" en la interfaz de usuario para todos los usuarios.
*   **Reglas de Negocio:**
    *   La funcionalidad de "Strategy Maps" está diseñada para organizaciones que utilizan la metodología de Balanced Scorecard.
    *   Si se deshabilita, se espera que las "Dashboards" (Paneles de Control) sean la principal herramienta de visualización estratégica.
*   **Requisitos No Funcionales (Opcional):**
    *   **Usabilidad (SRS-NFR-USG-002):** La personalización debe mejorar la familiaridad del usuario con la herramienta.

#### **3.23. Caso de Uso: UC-500: Configurar Jerarquía de Organizaciones**

*   **Identificador:** UC-500
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Replicar la estructura jerárquica de la organización dentro de DeltaOne para facilitar el seguimiento del rendimiento a todos los niveles y el rollup de KPIs.
*   **Precondiciones:**
    *   El actor tiene permisos de "Administración de Aplicación".
*   **Postcondiciones:**
    *   La jerarquía organizacional se ha configurado y está visible en la herramienta.
    *   Los KPIs de rollup pueden agregar valores a través de esta estructura.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la sección de "Organizaciones" (Organization pane).
    2.  El actor activa el modo de edición del árbol de organizaciones.
    3.  El actor puede:
        *   **Crear nueva organización:** Selecciona un nodo padre y añade una nueva organización hija.
        *   **Editar organización existente:** Selecciona una organización y modifica sus propiedades.
        *   **Reorganizar organizaciones:** Arrastra y suelta organizaciones para cambiar su posición en la jerarquía.
    4.  El actor guarda los cambios en la estructura organizacional.
    5.  El sistema actualiza el árbol de organizaciones, reflejando la jerarquía de la empresa.
*   **Flujos de Eventos Alternativos:**
    *   **UC-500a: Copiar organización como plantilla:** El actor puede copiar una organización existente como plantilla para crear múltiples copias basadas en esa estructura (ver UC-502).
*   **Flujos de Excepción:**
    *   **UC-500-EX1: Jerarquía circular:** El sistema debe prevenir la creación de referencias circulares en la jerarquía organizacional.
*   **Reglas de Negocio:**
    *   La jerarquía de organizaciones es fundamental para la funcionalidad de "rollup" de KPIs y permisos organizacionales.
*   **Requisitos No Funcionales (Opcional):**
    *   **Rendimiento (SRS-NFR-PER-002):** El sistema debe soportar un rendimiento adecuado con jerarquías organizacionales grandes (hasta 50,000 elementos).
    *   **Usabilidad (SRS-NFR-USG-001):** La gestión de la jerarquía debe ser intuitiva.

#### **3.24. Caso de Uso: UC-501: Implementar KPIs de Rollup entre Organizaciones**

*   **Identificador:** UC-501
*   **Actor Principal:** Experto en Datos, Administrador de Plataforma
*   **Objetivo:** Configurar KPIs para que sus valores se agreguen automáticamente desde organizaciones hijas a sus organizaciones padre, proporcionando una visión consolidada del rendimiento a nivel superior.
*   **Precondiciones:**
    *   La jerarquía de organizaciones está configurada (ver UC-500).
    *   Los KPIs de las organizaciones hijas existen y están actualizados.
    *   Los KPIs en las organizaciones padre tienen el mismo nombre que los KPIs de las organizaciones hijas que se acumularán.
*   **Postcondiciones:**
    *   Los KPIs en las organizaciones padre muestran valores calculados automáticamente a partir de sus descendientes.
    *   La consolidación de datos se automatiza, reduciendo el trabajo manual.
*   **Flujo de Eventos Principal:**
    1.  El actor accede a la configuración de un KPI en una organización padre que desea que sea un KPI de rollup.
    2.  El actor selecciona "Template Rollup" como el tipo de actualización para el KPI.
    3.  El actor puede seleccionar una "Template Rollup Equation" (ej. Suma, Promedio) que define cómo se agregarán los valores de las organizaciones hijas.
    4.  El actor guarda los cambios en el KPI.
    5.  El sistema automáticamente calcula el valor del KPI de rollup, tomando los valores de los KPIs con el mismo nombre en las organizaciones hijas relevantes.
    6.  El sistema muestra el valor consolidado en la organización padre.
*   **Flujos de Eventos Alternativos:**
    *   **UC-501a: Diferentes tipos de agregación para árbol y tiempo:** El actor puede configurar una agregación diferente para el rollup a través del árbol organizacional (ej. suma) y para la agregación de períodos de tiempo dentro de un KPI (ej. promedio).
*   **Flujos de Excepción:**
    *   **UC-501-EX1: KPI de hijo no encontrado:** Si un KPI esperado en una organización hija no existe o no tiene datos, el sistema lo maneja según la configuración (ej. ignorar o resultar en blanco).
*   **Reglas de Negocio:**
    *   Los KPIs de rollup normalmente se utilizan con organizaciones basadas en plantillas, aunque es posible con organizaciones no templadas si los nombres de KPI y la estructura de Scorecard coinciden.
    *   Las ecuaciones de rollup para "suma" generalmente omiten niveles intermedios del árbol para simplificar.
*   **Requisitos No Funcionales (Opcional):**
    *   **Fiabilidad (SRS-NFR-REL-002):** Los cálculos de rollup deben ser precisos.
    *   **Escalabilidad (SRS-NFR-ESC-002):** La funcionalidad de rollup debe ser eficiente para grandes jerarquías.

#### **3.25. Caso de Uso: UC-502: Configurar Organizaciones Basadas en Plantillas desde Datasets**

*   **Identificador:** UC-502
*   **Actor Principal:** Administrador de Plataforma, Experto en Datos
*   **Objetivo:** Replicar eficientemente estructuras de Scorecards con KPIs específicos para múltiples entidades (ej. por empleado, sucursal) utilizando datos de un dataset como fuente.
*   **Precondiciones:**
    *   Existe un dataset con un campo que se utilizará para generar las organizaciones (ej. "Sales Employee").
    *   Existe una organización "plantilla" con los KPIs configurados (preferiblemente KPIs de dataset que se auto-actualizan desde la fuente).
*   **Postcondiciones:**
    *   Se han creado automáticamente múltiples organizaciones hijas, cada una con una copia de la estructura del Scorecard de la plantilla y sus KPIs.
    *   Cada nueva organización contiene datos específicos del valor del dataset que la generó.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la sección de "Organizaciones" y selecciona la organización que servirá como plantilla.
    2.  El actor activa el modo de edición y hace clic en "Copiar como Plantilla" ("Copy as Template").
    3.  El actor elige la opción "Crear una copia de [Nombre de Organización] para cada valor de un campo de dataset".
    4.  El actor selecciona el dataset y el campo del dataset que definirá cada nueva organización (ej. "Sales Employee").
    5.  Opcionalmente, el actor puede aplicar filtros al dataset para restringir qué valores del campo generan organizaciones (ej. "Sales Department is Retail").
    6.  El actor confirma la creación de las nuevas organizaciones.
    7.  El sistema crea automáticamente las organizaciones hijas, cada una con la estructura de la plantilla y los KPIs actualizados con los datos filtrados del dataset correspondiente.
*   **Flujos de Excepción:**
    *   **UC-502-EX1: Dataset o campo no encontrado:** Si el dataset o el campo seleccionado no existen, el sistema notifica el error.
    *   **UC-502-EX2: Valores de campo inconsistentes:** Si hay datos de campo inválidos o inconsistentes que impiden la creación de la organización, el sistema lo indica.
*   **Reglas de Negocio:**
    *   Los KPIs de las organizaciones templadas pueden ser de "dataset KPIs" que se actualizan automáticamente desde el dataset fuente.
    *   Los filtros aplicados a los datasets restringen el número de organizaciones creadas, pero no necesariamente los datos de rollup incluidos en los KPIs de las organizaciones ya existentes.
*   **Requisitos No Funcionales (Opcional):**
    *   **Escalabilidad (SRS-NFR-ESC-002):** Esta funcionalidad permite la replicación eficiente de estructuras de Scorecards para múltiples entidades.

#### **3.26. Caso de Uso: UC-503: Integrar Permisos Organizacionales con Grupos de Árboles de Rollup**

*   **Identificador:** UC-503
*   **Actor Principal:** Administrador de Plataforma
*   **Objetivo:** Proporcionar una gestión escalable y granular del acceso a datos basada en la estructura organizativa, asignando permisos a grupos de árboles de rollup.
*   **Precondiciones:**
    *   La jerarquía de organizaciones está configurada (ver UC-500).
    *   Los "Grupos de Árboles de Rollup" (Dataset Rollup Tree Groups) han sido definidos en la administración de datasets.
    *   Los usuarios están asignados a estos grupos en diferentes niveles de la jerarquía del árbol de rollup.
*   **Postcondiciones:**
    *   Los usuarios tienen acceso a las organizaciones y los datos de KPI correspondientes a su posición en la jerarquía organizativa, sin necesidad de asignar permisos manualmente a cada organización.
    *   La gestión de permisos es eficiente y escalable para miles de usuarios.
*   **Flujo de Eventos Principal:**
    1.  El actor navega a la sección de "Organizaciones" y está en el proceso de copiar una organización como plantilla a partir de un campo de dataset de tipo "rollup tree" (ver UC-502).
    2.  En el panel "Organization Permissions", el actor puede añadir un "grupo de árbol de rollup" (ej. "IT Administrators", "Managers", "Standard Employees").
    3.  El actor asigna los permisos deseados a ese grupo (ej. "Power Users", "View Only").
    4.  El sistema, al crear las organizaciones templadas, asigna automáticamente los permisos a los miembros de ese grupo de árbol de rollup para su organización y sus descendientes.
    5.  Cuando un usuario inicia sesión, el sistema verifica su pertenencia a los grupos de árbol de rollup y les muestra solo las organizaciones y datos a los que tienen permiso (su nivel de árbol y los descendientes).
*   **Flujos de Excepción:**
    *   **UC-503-EX1: Grupo de árbol de rollup no existente:** Si el grupo seleccionado no existe, el sistema muestra un error.
*   **Reglas de Negocio:**
    *   Los grupos de árboles de rollup tienen un filtro permanente que restringe el acceso a los datos de su nivel de árbol y descendientes.
    *   Se pueden añadir filtros adicionales para restringir aún más el acceso.
*   **Requisitos No Funcionales (Opcional):**
    *   **Seguridad (SRS-NFR-SEG-003):** La asignación de permisos debe reflejar la estructura organizacional.
    *   **Escalabilidad (SRS-NFR-ESC-003):** La gestión de permisos debe ser escalable a través de grupos de árboles de rollup para grandes volúmenes de usuarios.